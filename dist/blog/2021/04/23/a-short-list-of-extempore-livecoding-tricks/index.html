<!DOCTYPE html><html lang="en"> <head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.ico"><title>A short list of Extempore livecoding tricks | benswift.me</title><meta name="author" content="Ben Swift"><meta name="description" content="Yesterday's LENS class discussion turned into an AMA of how I do certain things when I'm livecoding in Extempore. As promised, here's a blog post where I've…"><!-- Open Graph --><meta property="og:url" content="https://benswift.me/blog/2021/04/23/a-short-list-of-extempore-livecoding-tricks/"><meta property="og:type" content="article"><meta property="og:site_name" content="benswift.me"><meta property="og:title" content="A short list of Extempore livecoding tricks"><meta property="og:description" content="Yesterday's LENS class discussion turned into an AMA of how I do certain things when I'm livecoding in Extempore. As promised, here's a blog post where I've…"><meta property="og:image" content="https://benswift.me/assets/images/pages/theremin-75.webp"><!-- Twitter --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@benswift"><meta name="twitter:title" content="A short list of Extempore livecoding tricks"><meta name="twitter:description" content="Yesterday's LENS class discussion turned into an AMA of how I do certain things when I'm livecoding in Extempore. As promised, here's a blog post where I've…"><meta name="twitter:image" content="https://benswift.me/assets/images/pages/theremin-75.webp"><!-- AT Protocol --><link rel="site.standard.document" href="at://did:plc:tevykrhi4kibtsipzci76d76/site.standard.document/2021-04-23-a-short-list-of-extempore-livecoding-tricks"><!-- Citation metadata --><meta name="citation_title" content="A short list of Extempore livecoding tricks"><meta name="citation_author" content="Ben Swift"><meta name="citation_date" content="2021-04-23"><meta name="citation_public_url" content="https://benswift.me/blog/2021/04/23/a-short-list-of-extempore-livecoding-tricks/"><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><script type="module" src="/_astro/ClientRouter.astro_astro_type_script_index_0_lang.CDGfc0hd.js"></script><script>
      // Runs before paint to avoid flash of wrong theme
      ;(function() {
        const theme = localStorage.getItem("theme")
        if (theme === "dark" || (!theme && window.matchMedia("(prefers-color-scheme: dark)").matches)) {
          document.documentElement.classList.add("dark")
        }
      })()
    </script><link rel="stylesheet" href="/_astro/_slug_.BYY5YBAZ.css">
<style>.tag-container[data-astro-cid-lga65v7i]{display:flex;flex-wrap:wrap;gap:.5rem;margin:.5rem 0}.tag[data-astro-cid-lga65v7i]{display:inline-block;padding:.25rem .5rem;background-color:var(--bg-soft);border-radius:4px;font-size:.875rem;color:var(--text-2);text-decoration:none;transition:background-color .2s,color .2s}.tag[data-astro-cid-lga65v7i]:hover{background-color:var(--brand-soft);color:var(--brand-1)}
.cite-post[data-astro-cid-srla3z7m]{margin-top:2rem;border:1px solid var(--divider);border-radius:8px;padding:.75rem 1rem}.cite-post[data-astro-cid-srla3z7m] summary[data-astro-cid-srla3z7m]{cursor:pointer;font-size:.875rem;color:var(--text-2);user-select:none}.cite-content[data-astro-cid-srla3z7m]{margin-top:.75rem}.cite-content[data-astro-cid-srla3z7m] pre[data-astro-cid-srla3z7m]{background:var(--bg-soft);border-radius:6px;padding:1rem;overflow-x:auto;font-size:.8rem;line-height:1.5}.cite-copy[data-astro-cid-srla3z7m]{margin-top:.5rem;padding:.35rem .75rem;font-size:.8rem;border:1px solid var(--divider);border-radius:4px;background:var(--bg-soft);color:var(--text-2);cursor:pointer;transition:all .2s ease}.cite-copy[data-astro-cid-srla3z7m]:hover{color:var(--brand-1);border-color:var(--brand-1)}
.neon-perceptron.svelte-1ox9ddm{position:relative;width:100%;aspect-ratio:16 / 9;background:#111;border-radius:8px;overflow:hidden}.neon-perceptron.fullscreen.svelte-1ox9ddm{aspect-ratio:unset;width:100vw;height:100vh;border-radius:0}.neon-perceptron.svelte-1ox9ddm canvas{display:block}.controls.svelte-1ox9ddm{position:absolute;top:1rem;left:1rem;display:flex;flex-direction:column;gap:.5rem;z-index:100}.controls.svelte-1ox9ddm button:where(.svelte-1ox9ddm){padding:.5rem 1rem;background:#333;color:#fff;border:1px solid #666;border-radius:4px;cursor:pointer;font-size:.875rem;transition:background .2s}.controls.svelte-1ox9ddm button:where(.svelte-1ox9ddm):hover{background:#444}.slider-container.svelte-1ox9ddm{background:#333;padding:.5rem;border:1px solid #666;border-radius:4px;color:#fff;font-size:.75rem}.slider-container.svelte-1ox9ddm label:where(.svelte-1ox9ddm){display:flex;flex-direction:column;gap:.25rem}.slider-container.svelte-1ox9ddm input[type=range]:where(.svelte-1ox9ddm){width:120px}.fullscreen-button.svelte-1ox9ddm{position:absolute;top:1rem;right:1rem;width:2.5rem;height:2.5rem;padding:.5rem;background:#333;color:#fff;border:1px solid #666;border-radius:4px;cursor:pointer;z-index:100;transition:background .2s}.fullscreen-button.svelte-1ox9ddm:hover{background:#444}.fullscreen-button.svelte-1ox9ddm svg:where(.svelte-1ox9ddm){width:100%;height:100%}
.for-codes-table.svelte-gplc73 .search:where(.svelte-gplc73){width:100%;line-height:1.6;font-size:1rem;padding:.3rem .6rem;border:2px solid var(--brand-1);border-radius:3px;margin-bottom:1rem}.for-codes-table.svelte-gplc73 table:where(.svelte-gplc73){width:100%;border-collapse:collapse}.for-codes-table.svelte-gplc73 th:where(.svelte-gplc73),.for-codes-table.svelte-gplc73 td:where(.svelte-gplc73){padding:.5rem;text-align:left;border-bottom:1px solid var(--divider)}.for-codes-table.svelte-gplc73 .for-code:where(.svelte-gplc73){font-family:var(--font-family-mono);white-space:nowrap}
</style></head> <body> <header class="site-header" data-pagefind-ignore data-astro-cid-dmqpwcec> <nav class="nav-container" aria-label="Main navigation" data-astro-cid-dmqpwcec> <a href="/" class="site-title" data-astro-cid-dmqpwcec>benswift.me</a> <button class="mobile-menu-toggle" aria-label="Toggle navigation menu" aria-expanded="false" aria-controls="nav-links" data-astro-cid-dmqpwcec> <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-astro-cid-dmqpwcec> <line x1="3" y1="6" x2="21" y2="6" data-astro-cid-dmqpwcec></line> <line x1="3" y1="12" x2="21" y2="12" data-astro-cid-dmqpwcec></line> <line x1="3" y1="18" x2="21" y2="18" data-astro-cid-dmqpwcec></line> </svg> </button> <div id="nav-links" class="nav-links" data-astro-cid-dmqpwcec> <a href="/blog/" class="nav-link" data-astro-cid-dmqpwcec>Blog</a><a href="/research/" class="nav-link" data-astro-cid-dmqpwcec>Research</a><a href="/livecoding/" class="nav-link" data-astro-cid-dmqpwcec>Livecoding</a><a href="/teaching/" class="nav-link" data-astro-cid-dmqpwcec>Teaching</a><a href="/bio/" class="nav-link" data-astro-cid-dmqpwcec>Bio</a> <div class="nav-social" data-astro-cid-dmqpwcec> <a href="https://github.com/benswift" class="social-link" aria-label="GitHub" target="_blank" rel="noopener" data-astro-cid-dmqpwcec> <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-dmqpwcec> <path d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z" data-astro-cid-dmqpwcec></path>   </svg> </a><a href="https://bsky.app/profile/benswift.me" class="social-link" aria-label="Bluesky" target="_blank" rel="noopener" data-astro-cid-dmqpwcec> <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-dmqpwcec>  <path d="M12 10.8c-1.087-2.114-4.046-6.053-6.798-7.995C2.566.944 1.561 1.266.902 1.565.139 1.908 0 3.08 0 3.768c0 .69.378 5.65.624 6.479.785 2.627 3.608 3.494 6.21 3.16-.084.078-3.597.534-5.01 2.583-1.164 1.685.291 3.412 1.576 4.01 4.233 1.972 6.6-1.95 7.6-4.45.999 2.5 3.367 6.422 7.6 4.45 1.285-.598 2.74-2.325 1.576-4.01-1.413-2.049-4.926-2.505-5.01-2.583 2.602.334 5.425-.533 6.21-3.16.246-.829.624-5.789.624-6.478 0-.69-.139-1.861-.902-2.204-.659-.299-1.664-.62-4.3 1.24C14.046 4.747 11.087 8.686 12 10.8z" data-astro-cid-dmqpwcec></path>  </svg> </a><a href="https://www.linkedin.com/in/benjswift" class="social-link" aria-label="LinkedIn" target="_blank" rel="noopener" data-astro-cid-dmqpwcec> <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-dmqpwcec>   <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 01-2.063-2.065 2.064 2.064 0 112.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z" data-astro-cid-dmqpwcec></path> </svg> </a> </div> <div class="search-container" data-astro-cid-otpdt6jm> <button class="search-toggle" aria-label="Search" title="Search (Ctrl+K)" data-astro-cid-otpdt6jm> <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-astro-cid-otpdt6jm> <circle cx="11" cy="11" r="8" data-astro-cid-otpdt6jm></circle> <line x1="21" y1="21" x2="16.65" y2="16.65" data-astro-cid-otpdt6jm></line> </svg> </button> <dialog class="search-dialog" data-astro-cid-otpdt6jm> <div id="pagefind-search" data-astro-cid-otpdt6jm></div> <button class="search-close" aria-label="Close search" data-astro-cid-otpdt6jm> <kbd data-astro-cid-otpdt6jm>Esc</kbd> </button> </dialog> </div>   <script>
  (function() {
    let pagefindLoaded = false

    async function loadPagefind() {
      if (pagefindLoaded) return
      pagefindLoaded = true
      try {
        const link = document.createElement("link")
        link.rel = "stylesheet"
        link.href = "/pagefind/pagefind-ui.css"
        document.head.appendChild(link)

        const script = document.createElement("script")
        script.src = "/pagefind/pagefind-ui.js"
        await new Promise((resolve, reject) => {
          script.onload = resolve
          script.onerror = reject
          document.head.appendChild(script)
        })

        new window.PagefindUI({
          element: "#pagefind-search",
          showSubResults: true,
          showImages: false,
        })
      } catch {
        const el = document.getElementById("pagefind-search")
        if (el) el.innerHTML = "<p>Search is not available in dev mode.</p>"
      }
    }

    function initSearch() {
      const toggle = document.querySelector(".search-toggle")
      const dialog = document.querySelector(".search-dialog")
      const close = document.querySelector(".search-close")

      if (toggle) {
        toggle.addEventListener("click", async function() {
          if (!dialog) return
          await loadPagefind()
          dialog.showModal()
          var input = dialog.querySelector(".pagefind-ui__search-input")
          if (input) input.focus()
        })
      }

      if (close) {
        close.addEventListener("click", function() {
          if (dialog) dialog.close()
        })
      }
    }

    function handleKeydown(e) {
      if ((e.ctrlKey || e.metaKey) && e.key === "k") {
        e.preventDefault()
        var dialog = document.querySelector(".search-dialog")
        if (!dialog) return
        loadPagefind().then(function() {
          if (dialog.open) {
            dialog.close()
          } else {
            dialog.showModal()
            var input = dialog.querySelector(".pagefind-ui__search-input")
            if (input) input.focus()
          }
        })
      }
    }

    document.removeEventListener("keydown", handleKeydown)
    document.addEventListener("keydown", handleKeydown)

    initSearch()
    document.addEventListener("astro:page-load", initSearch)
  })()
</script> <button class="dark-mode-toggle" aria-label="Toggle dark mode" title="Toggle dark mode" data-astro-cid-dmqpwcec> <svg class="icon-sun" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-astro-cid-dmqpwcec> <circle cx="12" cy="12" r="5" data-astro-cid-dmqpwcec></circle> <line x1="12" y1="1" x2="12" y2="3" data-astro-cid-dmqpwcec></line> <line x1="12" y1="21" x2="12" y2="23" data-astro-cid-dmqpwcec></line> <line x1="4.22" y1="4.22" x2="5.64" y2="5.64" data-astro-cid-dmqpwcec></line> <line x1="18.36" y1="18.36" x2="19.78" y2="19.78" data-astro-cid-dmqpwcec></line> <line x1="1" y1="12" x2="3" y2="12" data-astro-cid-dmqpwcec></line> <line x1="21" y1="12" x2="23" y2="12" data-astro-cid-dmqpwcec></line> <line x1="4.22" y1="19.78" x2="5.64" y2="18.36" data-astro-cid-dmqpwcec></line> <line x1="18.36" y1="5.64" x2="19.78" y2="4.22" data-astro-cid-dmqpwcec></line> </svg> <svg class="icon-moon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-astro-cid-dmqpwcec> <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" data-astro-cid-dmqpwcec></path> </svg> </button> </div> </nav> </header>  <script type="module">function n(){const e=document.querySelector(".mobile-menu-toggle"),o=document.querySelector("#nav-links");e?.addEventListener("click",()=>{const t=e.getAttribute("aria-expanded")==="true";e.setAttribute("aria-expanded",String(!t)),o?.classList.toggle("open")}),document.querySelector(".dark-mode-toggle")?.addEventListener("click",()=>{const t=document.documentElement.classList.toggle("dark");localStorage.setItem("theme",t?"dark":"light")})}n();document.addEventListener("astro:page-load",n);</script> <main data-pagefind-body>  <h1 class="page-title">A short list of Extempore livecoding tricks</h1> <p class="post-date">23 Apr 21</p> <p class="tag-container" data-astro-cid-lga65v7i><a href="/blog/tag/livecoding/" class="tag" data-astro-cid-lga65v7i>livecoding</a><a href="/blog/tag/extempore/" class="tag" data-astro-cid-lga65v7i>extempore</a><a href="/blog/tag/lens/" class="tag" data-astro-cid-lga65v7i>lens</a></p>  <p>Yesterday’s <a href="https://comp.anu.edu.au/courses/laptop-ensemble/">LENS</a> class
discussion turned into an <a href="https://www.reddit.com/r/AMA/">AMA</a> of how I do
certain things when I’m livecoding in Extempore. As promised, here’s a blog post
where I’ve put together all of the things we’ve discussed (with a bit more
explanation). If you’re in the LENS ‘21 class this’ll hopefully be a helpful
complement to yesterday’s class discussion. If you’re not in the class, then
maybe you’ve always been curious about certain things I (over)use in my
livecoding sets? This is maybe a bit too niche to go in the general Extempore
documentation, but if you’ve got any questions then you can hit me up on Teams
(for LENS students) or the
<a href="mailto:extemporelang@googlegroups.com">Extempore mailing list</a> (everyone else).</p>
<p>[[toc]]</p>
<h2 id="the-cosr-macro">the <code>cosr</code> macro</h2>
<p><code>cosr</code> is just a convenient way of sinusoidally modulating something with a
period synced to the tempo.</p>
<p>When it came to writing up this part of yesterday’s discussion I had <em>déjà
vu</em>---I was sure I’d written this stuff up elsewhere. Turns out I have---it’s in
the main Extempore docs as part of the
<a href="https://extemporelang.github.io/docs/guides/pattern-language/#what-is-cosr">pattern</a>
guide.</p>
<p>One other tip which I mentioned yesterday: if you use fractions for the period
(final argument) which have a co-prime numerator &#x26; denominator (e.g. 7/3 or
15/8) then you’ll get interesting accenting patterns, but which will still
repeat (so it gives a bit more structure than just using <code>random</code>).</p>
<p>One other related trick that I use is doing “mod” calculations on the <code>beat</code>
variable (which is an explicit argument in most temporal recursions), but is
also implicitly bound in the pattern expression if you’re using the pattern
language:</p>
<pre class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="xtlang"><code><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#D73A49;--shiki-dark:#F97583">if</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> (</span><span style="color:#D73A49;--shiki-dark:#F97583">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> (</span><span style="color:#005CC5;--shiki-dark:#79B8FF">modulo</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> beat </span><span style="color:#005CC5;--shiki-dark:#79B8FF">2</span><span style="color:#24292E;--shiki-dark:#E1E4E8">) </span><span style="color:#005CC5;--shiki-dark:#79B8FF">0</span><span style="color:#24292E;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    (</span><span style="color:#005CC5;--shiki-dark:#79B8FF">println</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> 'downbeat))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#D73A49;--shiki-dark:#F97583">if</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> (</span><span style="color:#D73A49;--shiki-dark:#F97583">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> (</span><span style="color:#005CC5;--shiki-dark:#79B8FF">modulo</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> beat </span><span style="color:#005CC5;--shiki-dark:#79B8FF">2</span><span style="color:#24292E;--shiki-dark:#E1E4E8">) </span><span style="color:#005CC5;--shiki-dark:#79B8FF">1</span><span style="color:#24292E;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    (</span><span style="color:#005CC5;--shiki-dark:#79B8FF">println</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> 'upbeat))</span></span></code></pre>
<h2 id="adding-instruments-to-the-sharedsystem-setup">adding instruments to the sharedsystem setup</h2>
<p>The default sharedsystem instruments are defined near the top of the
<code>examples/sharedsystem/audiosetup.xtm</code> file:</p>
<pre class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="xtlang"><code><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF">make-instrument</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> syn1 analogue)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF">make-instrument</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> syn2 analogue)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF">make-instrument</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> syn3 analogue)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF">make-instrument</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> kit dlogue)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF">make-instrument</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> samp1 sampler)</span></span></code></pre>
<p>If you want to use different instruments, you can add them to the various DSP
callbacks <code>dsp1</code> to <code>dsp5</code> (this multi-DSP-function setup is to allow the audio
engine’s work to be distributed across multiple cores).</p>
<p>In each of the DSP functions (e.g. <code>dsp1</code>), the actual work of getting the
“signal” out of the relevant instrument happens in a line like this:</p>
<pre class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="xtlang"><code><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">(set! out (syn1 in time chan dat))</span></span></code></pre>
<p>To add e.g. an <code>fmsynth</code> to the sharedsystem setup, there are two steps:</p>
<ol>
<li>
<p>define the <code>fmsynth</code> instrument somewhere with
<code>(make-instrument fmsynth fmsynth)</code></p>
</li>
<li>
<p>call the <code>fmsynth</code> function in one of your DSP functions (doesn’t matter
which one---they all get summed in the end) callbacks and make sure the
return value is added to one of the <code>out</code> variables</p>
</li>
</ol>
<p>Here’s an example (in <code>dsp1</code> as per the previous example):</p>
<pre class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="xtlang"><code><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">(set! out (+ (syn1 in time chan dat)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">             (fmsynth in time chan dat)))</span></span></code></pre>
<p>Then, any notes you play (using <code>play</code>) on the <code>fmsynth</code> instrument will make
their way into the audio output.</p>
<h2 id="markov-chains">markov chains</h2>
<p>As discussed yesterday, Scheme (most lisps, really) makes it pretty easy to
represent markov chains.</p>
<p>Consider the following temporal recursion, which (in addition to the usual
<code>beat</code> and <code>dur</code> arguments) also takes a <code>pitch</code> argument. This is the exact
code I wrote yesterday:</p>
<pre class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="xtlang"><code><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">(define (obi-lead beat dur) pitch</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">  (</span><span style="color:#005CC5;--shiki-dark:#79B8FF">play</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> samp1 pitch (</span><span style="color:#005CC5;--shiki-dark:#79B8FF">cosr</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 75</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 20</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 5</span><span style="color:#24292E;--shiki-dark:#E1E4E8">/</span><span style="color:#005CC5;--shiki-dark:#79B8FF">3</span><span style="color:#24292E;--shiki-dark:#E1E4E8">) dur </span><span style="color:#005CC5;--shiki-dark:#79B8FF">2</span><span style="color:#24292E;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">  (</span><span style="color:#005CC5;--shiki-dark:#79B8FF">callback</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> (*metro* (+ beat (* .</span><span style="color:#005CC5;--shiki-dark:#79B8FF">5</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> dur))) 'obi-lead (+ beat dur) dur</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">            (</span><span style="color:#005CC5;--shiki-dark:#79B8FF">random</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> (</span><span style="color:#005CC5;--shiki-dark:#79B8FF">cdr</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> (</span><span style="color:#005CC5;--shiki-dark:#79B8FF">assoc</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> pitch '((</span><span style="color:#005CC5;--shiki-dark:#79B8FF">60</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 60</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 63</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 67</span><span style="color:#24292E;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">                                        (</span><span style="color:#005CC5;--shiki-dark:#79B8FF">63</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 67</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 60</span><span style="color:#24292E;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">                                        (</span><span style="color:#005CC5;--shiki-dark:#79B8FF">67</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 58</span><span style="color:#24292E;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">                                        (</span><span style="color:#005CC5;--shiki-dark:#79B8FF">58</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 60</span><span style="color:#24292E;--shiki-dark:#E1E4E8">)))))))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">(obi-lead (*metro* 'get-beat </span><span style="color:#005CC5;--shiki-dark:#79B8FF">4</span><span style="color:#24292E;--shiki-dark:#E1E4E8">) </span><span style="color:#005CC5;--shiki-dark:#79B8FF">1</span><span style="color:#24292E;--shiki-dark:#E1E4E8">/</span><span style="color:#005CC5;--shiki-dark:#79B8FF">4</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 60</span><span style="color:#24292E;--shiki-dark:#E1E4E8">)</span></span></code></pre>
<p>The markov chain happens in that <code>(random (cdr (assoc ...)))</code> line at the end of
the definition of the <code>obi-lead</code> function. A couple of things to note:</p>
<ul>
<li>
<p>the <code>cdr</code> is only necessary to make sure that a “self-transition” (i.e. the
pitch staying the same) only happens if you explicitly add the same pitch as
an element <em>other than</em> the first element of the list. Otherwise, you wouldn’t
be able to make a markof chain that always went to a <em>different</em> pitch from
the current one.</p>
</li>
<li>
<p>the <code>random</code> call isn’t a special “markov” random, it’s just the normal
<code>random</code> picking from a list of pitches (so you can use the same “use the same
element multiple times for weighted sampling” trick mentioned below)</p>
</li>
<li>
<p>you can do whatever you want with the <code>pitch</code> argument inside the body of the
<code>obi-lead</code> function---the fact that we <code>play</code> it here is a common pattern, but
you could e.g. fire out an OSC message, etc.</p>
</li>
<li>
<p>this is just a specific example of the more general class of algorithms which
use a temporal recursion to pass variables to subsequent callbacks, and
potentially do tests/operations on said variables to change them for future
callbacks</p>
</li>
<li>
<p>the onus is on the livecoder to make sure that each possible state (i.e. each
value that <code>pitch</code> can take) is represented as the head (<code>cdr</code>) of one of the
lists. But as long as you satisfy that invariant then the <code>obi-lead</code> markov
process will just keep on playing the <code>pitch</code> as it travels through time and
space<sup><a href="#user-content-fn-mb" id="user-content-fnref-mb" data-footnote-ref="" aria-describedby="footnote-label">1</a></sup>.</p>
</li>
</ul>
<h2 id="weighted-random-selections-from-a-list">weighted random selections from a list</h2>
<p>As promised (Caleb!) here’s the syntax for doing a weighted random sample: the
key is that the argument to <code>random</code> isn’t a list of <code>cons</code> pairs, it’s multiple
<code>cons</code> pair arguments, each one of the form <code>(cons WEIGHTING VALUE)</code>.</p>
<pre class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="xtlang"><code><span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">;; here's an example: note that it's in a "do 10 times" loop to show that the</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">;; values are indeed sampled using the appropriate weighting</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#D73A49;--shiki-dark:#F97583">dotimes</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> (i </span><span style="color:#005CC5;--shiki-dark:#79B8FF">10</span><span style="color:#24292E;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">  (</span><span style="color:#005CC5;--shiki-dark:#79B8FF">println</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> 'i: i (</span><span style="color:#005CC5;--shiki-dark:#79B8FF">random</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> (</span><span style="color:#005CC5;--shiki-dark:#79B8FF">cons</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 0.1</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 1</span><span style="color:#24292E;--shiki-dark:#E1E4E8">) (</span><span style="color:#005CC5;--shiki-dark:#79B8FF">cons</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 0.9</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> -</span><span style="color:#005CC5;--shiki-dark:#79B8FF">1</span><span style="color:#24292E;--shiki-dark:#E1E4E8">))))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">;; printed output:</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">;;</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">;; i: 0 -1</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">;; i: 1 -1</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">;; i: 2 -1</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">;; i: 3 -1</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">;; i: 4 1</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">;; i: 5 1</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">;; i: 6 -1</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">;; i: 7 -1</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">;; i: 8 -1</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">;; i: 9 -1</span></span></code></pre>
<p>Note that if you’re happy with just rough “this value is twice/three times as
likely as the others” then it’s usually simpler to just randomly sample
(equally-weighted) from a list, including duplicate values for the things you
want to turn up more often in the output:</p>
<pre class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="xtlang"><code><span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">;; 0 will be twice as likely as 3 or 7</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF">random</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> (</span><span style="color:#005CC5;--shiki-dark:#79B8FF">list</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 0</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 0</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 3</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 7</span><span style="color:#24292E;--shiki-dark:#E1E4E8">))</span></span></code></pre>
<h2 id="rel-for-relative-pitches"><code>rel</code> for relative pitches</h2>
<p>::: tip</p>
<p>From here on, all the following code snippets assume you’ve loaded the pattern
language with</p>
<pre class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="xtlang"><code><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF">sys:load</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> "libs/core/pattern-language.xtm"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">)</span></span></code></pre>
<p>Note that the pattern language library is loaded when you load the sharedsystem
as well.</p>
<p>:::</p>
<p>Based on the (global) <code>*scale*</code> variable, you can use <code>rel</code> to calculate pitches
“relative to” a starting pitch.</p>
<p>So, if you’re starting with a middle C (midi note <code>60</code>) and you want to go <code>2</code>
notes up the scale (and you haven’t changed value of the <code>*scale*</code> variable from
the default “C natural minor” scale) then you can use:</p>
<pre class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="xtlang"><code><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF">rel</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 60</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 2</span><span style="color:#24292E;--shiki-dark:#E1E4E8">)</span></span></code></pre>
<p>This can be handy when paired with the <code>range</code> function (which just generates
lists of integers) for running your scales:</p>
<pre class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="xtlang"><code><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF">:></span><span style="color:#24292E;--shiki-dark:#E1E4E8"> scale-runner </span><span style="color:#005CC5;--shiki-dark:#79B8FF">4</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 0</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> (</span><span style="color:#005CC5;--shiki-dark:#79B8FF">play</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> samp1 (</span><span style="color:#005CC5;--shiki-dark:#79B8FF">rel</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 60</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> @</span><span style="color:#005CC5;--shiki-dark:#79B8FF">1</span><span style="color:#24292E;--shiki-dark:#E1E4E8">) </span><span style="color:#005CC5;--shiki-dark:#79B8FF">80</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> dur) (</span><span style="color:#005CC5;--shiki-dark:#79B8FF">range</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 8</span><span style="color:#24292E;--shiki-dark:#E1E4E8">))</span></span></code></pre>
<p>Note that this is just a slightly terser version of <code>pc:relative</code> (in
<code>libs/core/pc_ivl.xtm</code>) function, which doesn’t use the <code>*scale*</code> variable by
default. Note <em>further</em> that <code>rel</code> takes an optional third argument for
providing a different scale, if e.g. you want to use a different scale for your
“relative pitch” calculation than you’re currently using elsewhere in the piece.</p>
<p>Here’s an example:</p>
<pre class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="xtlang"><code><span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">;; set scale to F natural minor</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">(set! *scale* (pc</span><span style="color:#005CC5;--shiki-dark:#79B8FF">:scale</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 5</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> 'aeolian))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">;; use a Fm7 chord (a subset of F natural minor) for the relative pitch calculation</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF">rel</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 65</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> (</span><span style="color:#005CC5;--shiki-dark:#79B8FF">random</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 4</span><span style="color:#24292E;--shiki-dark:#E1E4E8">) (pc</span><span style="color:#005CC5;--shiki-dark:#79B8FF">:chord</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 5</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> '-</span><span style="color:#005CC5;--shiki-dark:#79B8FF">7</span><span style="color:#24292E;--shiki-dark:#E1E4E8">))</span></span></code></pre>
<p>If you <code>println</code> the output of that <code>(pc:chord 5 '-7)</code> (<em>Fm7</em>) function, you’ll
get the result <code>(5 8 0 3)</code>, which corresponds to the following pitch classes:</p>
<ul>
<li><code>5</code>: F</li>
<li><code>8</code>: A♭</li>
<li><code>0</code>: C</li>
<li><code>3</code>: E♭</li>
</ul>
<p>which are the pitches from an Fm7 chord, so it all checks out.</p>
<p>As one final tip, you can just skip the call to <code>pc:chord</code> altogether and do
something like:</p>
<pre class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="xtlang"><code><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF">rel</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 65</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> (</span><span style="color:#005CC5;--shiki-dark:#79B8FF">random</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 4</span><span style="color:#24292E;--shiki-dark:#E1E4E8">) '(</span><span style="color:#005CC5;--shiki-dark:#79B8FF">5</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 8</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 0</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 3</span><span style="color:#24292E;--shiki-dark:#E1E4E8">))</span></span></code></pre>
<p>This makes it super-easy to make quick edits, e.g. if you want to flatten the
fifth (C). But it does make it a little less readable for the audience (and
let’s face it, reading <code>(pc:chord 5 '-7)</code> was already pretty tough going for
most folks outside the <em>music theory</em> ∩ <em>computer programmer</em> intersection).</p>
<h2 id="nof-and-the-macros-vs-functions-distinction"><code>nof</code> and the macros vs functions distinction</h2>
<p><code>nof</code> (think “give me <em>n</em> of these”) is a Scheme macro for creating a list by
repeatedly evaluating a form.</p>
<p>So, one way to get a list of 10 <code>0</code>s is:</p>
<pre class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="xtlang"><code><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF">nof</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 10</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 0</span><span style="color:#24292E;--shiki-dark:#E1E4E8">)</span></span></code></pre>
<p>To get a list of 4 random integers between <code>0</code> and <code>9</code> (inclusive) you could
use:</p>
<pre class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="xtlang"><code><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF">nof</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 4</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> (</span><span style="color:#005CC5;--shiki-dark:#79B8FF">random</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 10</span><span style="color:#24292E;--shiki-dark:#E1E4E8">))</span></span></code></pre>
<p>I just evaluated the above form on my machine; the result was <code>(0 9 9 8)</code>. Note
that the numbers are different; so the <code>nof</code> macro is obviously not just taking
the result of a single call to <code>(random 10)</code> and repeating it <code>4</code> times to
create a list.</p>
<p>This is where the fact that it’s a <em>macro</em>---not a function---comes into play.
One trick for looking at what a macro form “macroexpands” out to is calling
<code>macro-expand</code> (note that the <code>nof</code> form has been quoted using <code>'</code>):</p>
<pre class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="xtlang"><code><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF">println</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> (macro-expand '(</span><span style="color:#005CC5;--shiki-dark:#79B8FF">nof</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 4</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> (</span><span style="color:#005CC5;--shiki-dark:#79B8FF">random</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 10</span><span style="color:#24292E;--shiki-dark:#E1E4E8">))))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">;; prints:</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">;; (make-list-with-proc 4 (lambda (idx) (random 10)))</span></span></code></pre>
<p>So, the list is actually formed by four repeated calls to a <code>lambda</code> (anonymous)
function, and that’s why the four random numbers in the above list are
different.</p>
<p>If this isn’t actually the behaviour you want---if you want the same random
number repeated four times, there’s a <code>repeat</code> function which you probably want
to use instead. Notice the difference:</p>
<pre class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="xtlang"><code><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF">println</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> (</span><span style="color:#005CC5;--shiki-dark:#79B8FF">nof</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 4</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> (</span><span style="color:#005CC5;--shiki-dark:#79B8FF">random</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 10</span><span style="color:#24292E;--shiki-dark:#E1E4E8">)))</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF">println</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> (</span><span style="color:#005CC5;--shiki-dark:#79B8FF">repeat</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 4</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> (</span><span style="color:#005CC5;--shiki-dark:#79B8FF">random</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 10</span><span style="color:#24292E;--shiki-dark:#E1E4E8">)))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">;; prints:</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">;; nof: (1 3 3 6)</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">;; repeat: (5 5 5 5)</span></span></code></pre>
<p>So keep that in mind when you’re using <code>nof</code> in your pattern language. It’ll
probably just work, but this subtle macro vs functino thing may be the cause of
errors or weird behaviour that you see.</p>
<h2 id="quasiquote--vs-regular-quote">quasiquote (<code>`</code>) vs regular quote (<code>'</code>)</h2>
<p>The quasiquote (<code>`</code>) symbol (which is also called the <em>tilde</em>) is like the
normal quote operator (<code>'</code>), except that you can “undo” the quoting (i.e. eval)
inner forms as necessary using the unquote operator (<code>,</code>).</p>
<p>That’s not easy to get your head around when explained in words, but here’s an
example:</p>
<pre class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="xtlang"><code><span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">;; this is kindof tedious to write</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">'(c3 | | | | | d3 e3)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">;; so instead we write</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">`(c3 ,@(</span><span style="color:#005CC5;--shiki-dark:#79B8FF">nof</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 5</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> '|) d3 e3)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">;; don't forget the @ (splicing) part; this is probably not what you want...</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">`(c3 ,(</span><span style="color:#005CC5;--shiki-dark:#79B8FF">nof</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 5</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> '|) d3 e3)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">;; result: (c3 (| | | | |) d3 e3)</span></span></code></pre>
<h2 id="modulating-filter-or-other-params-over-time">modulating filter (or other) params over time</h2>
<p>One way to do it is show in the example file
<code>examples/sharedsystem/analogue_synth_basics.xtm</code>. Have a look around line 39,
where it says:</p>
<pre class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="xtlang"><code><span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">;; and now add a second pattern to 'sweep' the filter</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF">:></span><span style="color:#24292E;--shiki-dark:#E1E4E8"> B </span><span style="color:#005CC5;--shiki-dark:#79B8FF">4</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 0</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> (set_filter_env syn1 </span><span style="color:#005CC5;--shiki-dark:#79B8FF">40.0</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 100.0</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> (</span><span style="color:#005CC5;--shiki-dark:#79B8FF">trir</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 0.0</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 1.0</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 1</span><span style="color:#24292E;--shiki-dark:#E1E4E8">/</span><span style="color:#005CC5;--shiki-dark:#79B8FF">32</span><span style="color:#24292E;--shiki-dark:#E1E4E8">) </span><span style="color:#005CC5;--shiki-dark:#79B8FF">100.0</span><span style="color:#24292E;--shiki-dark:#E1E4E8">) (</span><span style="color:#005CC5;--shiki-dark:#79B8FF">nof</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 16</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 0</span><span style="color:#24292E;--shiki-dark:#E1E4E8">))</span></span></code></pre>
<h2 id="playing-a-loop-which-then-stops">playing a loop which then stops</h2>
<p>The pattern language isn’t really designed for playing one (or two, or three, or
<em>n</em> for <em>n &#x3C; ∞</em>) shot loops. It’s really designed for things which will keep on
looping until you stop the pattern.</p>
<p>If you want to play a sequence of events which runs for a while and then stops,
then using a standard temporal recursion is probably best.</p>
<p>Here are a couple of examples. First, this recursion will keep playing the notes
until the <code>pitch</code> argument gets to <code>72</code>.</p>
<pre class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="xtlang"><code><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">(define (ascending-chromatic beat dur pitch)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">  (</span><span style="color:#005CC5;--shiki-dark:#79B8FF">play</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> syn1 pitch </span><span style="color:#005CC5;--shiki-dark:#79B8FF">80</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> dur)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">  (</span><span style="color:#D73A49;--shiki-dark:#F97583">if</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> (</span><span style="color:#D73A49;--shiki-dark:#F97583">&#x3C;</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> pitch </span><span style="color:#005CC5;--shiki-dark:#79B8FF">72</span><span style="color:#24292E;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">      ;; note the `callback` is inside the `if`</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      (</span><span style="color:#005CC5;--shiki-dark:#79B8FF">callback</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> (*metro* (+ beat (* .</span><span style="color:#005CC5;--shiki-dark:#79B8FF">5</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> dur))) 'ascending-chromatic (+ beat dur) dur</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">                ;; pitch gets incremented by 1 in each subsequent callback</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">                (+ pitch </span><span style="color:#005CC5;--shiki-dark:#79B8FF">1</span><span style="color:#24292E;--shiki-dark:#E1E4E8">))))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">;; kick it off - note that we're passing the initial pitch argument</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">(ascending-chromatic (*metro* 'get-beat </span><span style="color:#005CC5;--shiki-dark:#79B8FF">4</span><span style="color:#24292E;--shiki-dark:#E1E4E8">) </span><span style="color:#005CC5;--shiki-dark:#79B8FF">1</span><span style="color:#24292E;--shiki-dark:#E1E4E8">/</span><span style="color:#005CC5;--shiki-dark:#79B8FF">4</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 60</span><span style="color:#24292E;--shiki-dark:#E1E4E8">)</span></span></code></pre>
<p>Now, both the “increment” part <code>(+ pitch 1)</code> and the “stopping criteria” part
(i.e. the <code>(if (&#x3C; pitch 72) ...</code>) are both just Scheme code, so it’s very
flexible. You can handle those things however you like.</p>
<p>One other approach to doing this is a recursion approach straight out of the
functional programming handbook<sup><a href="#user-content-fn-little-schemer" id="user-content-fnref-little-schemer" data-footnote-ref="" aria-describedby="footnote-label">2</a></sup>, just with a temporal twist.
The key idea: start with a list, recurring on the <code>cdr</code> (i.e. the tail of the
list) each time until it’s empty, then stopping.</p>
<p>So, here’s a way of playing a scale---ascending, then descending---then
stopping.</p>
<pre class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="xtlang"><code><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">(define (ascending-descending-scale beat dur plist)</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">  ;; note the (car plist) since plist is a list, not a number</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">  (</span><span style="color:#005CC5;--shiki-dark:#79B8FF">play</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> syn1 (</span><span style="color:#005CC5;--shiki-dark:#79B8FF">car</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> plist) </span><span style="color:#005CC5;--shiki-dark:#79B8FF">80</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> dur)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">  (</span><span style="color:#D73A49;--shiki-dark:#F97583">if</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> (</span><span style="color:#D73A49;--shiki-dark:#F97583">not</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> (</span><span style="color:#005CC5;--shiki-dark:#79B8FF">null</span><span style="color:#24292E;--shiki-dark:#E1E4E8">? plist))</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      (</span><span style="color:#005CC5;--shiki-dark:#79B8FF">callback</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> (*metro* (+ beat (* .</span><span style="color:#005CC5;--shiki-dark:#79B8FF">5</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> dur))) 'ascending-descending-scale (+ beat dur) dur</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">                (</span><span style="color:#005CC5;--shiki-dark:#79B8FF">cdr</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> plist))))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">(ascending-descending-scale (*metro* 'get-beat </span><span style="color:#005CC5;--shiki-dark:#79B8FF">4</span><span style="color:#24292E;--shiki-dark:#E1E4E8">) </span><span style="color:#005CC5;--shiki-dark:#79B8FF">1</span><span style="color:#24292E;--shiki-dark:#E1E4E8">/</span><span style="color:#005CC5;--shiki-dark:#79B8FF">4</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">                            '(</span><span style="color:#005CC5;--shiki-dark:#79B8FF">60</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 62</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 64</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 65</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 67</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 69</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 71</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 72</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 71</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 69</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 67</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 65</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 64</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 62</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 60</span><span style="color:#24292E;--shiki-dark:#E1E4E8">))</span></span></code></pre>
<p>There are a couple of nice variations on this one:</p>
<ul>
<li>
<p>replace the <code>(cdr plist)</code> with <code>(rotate plist -1)</code> to make it cycle through
the pitches, but then go back to the start (have a think about what <code>rotate</code>
does to convince yourself that this works)</p>
</li>
<li>
<p>you can re-trigger this temporal recursion several times, either with the same
<code>plist</code>, or even with different <code>plist</code>s---since all the temporal callback
chains will be independent they’ll all just run nicely over the top of one
another, which can lead to some interesting musical “layerings”</p>
</li>
</ul>
<h2 id="multi-laptop-extempore-clock-sync">multi-laptop Extempore clock sync</h2>
<p>If you’re jamming with another Extempore laptop musician, you often want to make
sure your tempos &#x26; metronomes sync up. One way to do this is to use the topclock
protocol (the name comes from <a href="https://toplap.org">TOPLAP</a>). You’ll need a
network connection between all the machines---wired is best if you can manage
it, or at least on a private-ish wifi LAN (you’ll probably have a bad time
trying to do it over <em>ANU Secure</em>).</p>
<p>There’s an example in <code>examples/core/topclock_metro.xtm</code> which will show you the
details.</p>
<p>The alternative (manual) way to sync up two laptops is to:</p>
<ol>
<li>
<p>make sure you’re both using the same tempo:</p>
<pre class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="xtlang"><code><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">(*metro* 'set-tempo </span><span style="color:#005CC5;--shiki-dark:#79B8FF">140</span><span style="color:#24292E;--shiki-dark:#E1E4E8">) </span><span style="color:#6A737D;--shiki-dark:#6A737D">;; or whatever tempo you like</span></span></code></pre>
</li>
<li>
<p>both starting “playing time”, i.e. something simple which is easy to listen
to and feel the tempo</p>
</li>
<li>
<p>listening carefully, try and figure out if you’re
<a href="https://www.youtube.com/watch?v=ZQ_6VUs2VCk">rushing or dragging</a>, and then
executing the appropriate <code>*metro*</code> function call:</p>
<pre class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="xtlang"><code><span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">;; if you're rushing</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">(*metro* 'pull)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">;; if you're dragggin</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">(*metro* 'push)</span></span></code></pre>
</li>
</ol>
<p>Pros with this approach: no network connection required, and it’s usually not
too tricky to get the timing close enough to jam together. Cons: it’s pretty
manual (and requires some careful listening, which is a skill that takes time to
master), and it also doesn’t help with getting the exact beat clock synced up
(so that you’ll still have to be careful that e.g. your 4-beat bars line up, and
you may have to keep fiddling with some offsets to make it all work).</p>
<h2 id="selecting-the-correct-audio-device">Selecting the correct audio device</h2>
<p>We discussed this during the demo day class, but you should visit the
<a href="https://extemporelang.github.io/docs/overview/quickstart/#no-sound-check-your-audio-device">doco website</a>
to see how to do it. The tip about using <code>--device-name</code> instead of <code>--device</code>
is particularly good advice when you’re trying to bump in quickly in a gig
situation.</p>
<h2 id="audio-underflow-are-you-pushing-extempore-too-hard">Audio underflow: are you pushing extempore too hard?</h2>
<p>The sharedsystem is actually kindof heavyweight<sup><a href="#user-content-fn-cpu-requirements" id="user-content-fnref-cpu-requirements" data-footnote-ref="" aria-describedby="footnote-label">3</a></sup> (or at least
medium-weight) from a CPU use perspective. It loads up 4 analogue synths and a
sampler, plus some FX (e.g. global convolution reverb) and tries to distribute
them across multiple cores on your machine.</p>
<p>If you’re getting lots of “audio underflow” messages, you’ve got a few options,
in order of easiest fixes to most difficult:</p>
<ol>
<li>
<p>don’t run any other software on your machine that you don’t absolutely need
for the gig</p>
</li>
<li>
<p>try starting Extempore with a larger frame size (e.g.
<code>./extempore --frames 8192</code>)</p>
</li>
<li>
<p>if you don’t need MIDI I/O, just load
<code>(sys:load "examples/sharedsystem/audiosetup.xtm")</code> instead of
<code>(sys:load "examples/sharedsystem/setup.xtm")</code></p>
</li>
<li>
<p>remove some of the <code>dspN</code> (for <code>N</code> = 1..5) functions from the signal chain in
<code>examples/sharedsystem/audiosetup.xtm</code> (e.g. if you’re only using <code>syn1</code> and
<code>syn2</code> you could remove <code>dsp3</code> from the signal chain, which uses <code>dspmt</code> as
the final output sink)</p>
</li>
<li>
<p>get your hands on a beefier laptop (not an option for many people, obviously)</p>
</li>
</ol>
<p>If you go with option #4, remember that you can create a new copy of
<code>audiosetup.xtm</code> and modify it to your heart’s content. Even if you’ve just been
messing with the original <code>audiosetup.xtm</code> file directly, remember that you can
get a “pristine” version at any time from
<a href="https://github.com/digego/extempore/blob/master/examples/sharedsystem/audiosetup.xtm">GitHub</a>.</p>
<h2 id="creating-a-startup-file">Creating a “startup” file</h2>
<p><code>sys:load</code> can load any file on your computer (even files outside your
<code>extempore</code> directory if you provide a full path). So it’s a good idea to put
<em>everything</em> required to set up your Extempore session into one file, then you
can just load that file with e.g.</p>
<pre class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="xtlang"><code><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF">sys:load</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> "/Users/ben/Documents/research/extemporelang/xtm/sessions/lens-2021-demo/setup.xtm"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">)</span></span></code></pre>
<p>and then once that’s loaded you’re good to go.</p>
<p>Extra tip: also memorise a line of code that you can quickly type &#x26; execute to
check if there’s sound coming out.</p>
<section data-footnotes="" class="footnotes"><h2 class="sr-only" id="footnote-label">Footnotes</h2>
<ol>
<li id="user-content-fn-mb">
<p>to the
<a href="https://www.youtube.com/watch?v=uf723IeStzc">world of the Mighty Boosh</a> <a href="#user-content-fnref-mb" data-footnote-backref="" aria-label="Back to reference 1" class="data-footnote-backref">↩</a></p>
</li>
<li id="user-content-fn-little-schemer">
<p>that’s not just an idiom, I’m actually thinking of a
<a href="https://mitpress.mit.edu/books/little-schemer-fourth-edition">specific book</a> <a href="#user-content-fnref-little-schemer" data-footnote-backref="" aria-label="Back to reference 2" class="data-footnote-backref">↩</a></p>
</li>
<li id="user-content-fn-cpu-requirements">
<p>I mean, it’s still supposed to work on a half-decent laptop---it shouldn’t
require a real beast---but if you’re on a particularly old/wheezy machine
then even with the below tricks the sharedsystem might not be a good choice.
The other examples (e.g. <code>examples/core/fmsynth.xtm</code>) show how to create a
lighter-weight DSP chain, and from there you could add only the instruments
&#x26; effects that you need. <a href="#user-content-fnref-cpu-requirements" data-footnote-backref="" aria-label="Back to reference 3" class="data-footnote-backref">↩</a></p>
</li>
</ol>
</section>  <details class="cite-post" data-astro-cid-srla3z7m> <summary data-astro-cid-srla3z7m>Cite this post</summary> <div class="cite-content" data-astro-cid-srla3z7m> <pre data-astro-cid-srla3z7m><code data-astro-cid-srla3z7m>@online{swift2021aShortListOfExtemporeLivecodingTricks,
  author = {Ben Swift},
  title = {A short list of Extempore livecoding tricks},
  url = {https://benswift.me/blog/2021/04/23/a-short-list-of-extempore-livecoding-tricks/},
  year = {2021},
  month = {04},
  note = {AT-URI: at://did:plc:tevykrhi4kibtsipzci76d76/site.standard.document/2021-04-23-a-short-list-of-extempore-livecoding-tricks},
}</code></pre> <button class="cite-copy" data-bibtex="@online{swift2021aShortListOfExtemporeLivecodingTricks,
  author = {Ben Swift},
  title = {A short list of Extempore livecoding tricks},
  url = {https://benswift.me/blog/2021/04/23/a-short-list-of-extempore-livecoding-tricks/},
  year = {2021},
  month = {04},
  note = {AT-URI: at://did:plc:tevykrhi4kibtsipzci76d76/site.standard.document/2021-04-23-a-short-list-of-extempore-livecoding-tricks},
}" data-astro-cid-srla3z7m>Copy BibTeX</button> </div> </details>  <script type="module">function i(){document.querySelectorAll(".cite-copy").forEach(t=>{t.addEventListener("click",async()=>{const e=t.dataset.bibtex;e&&(await navigator.clipboard.writeText(e),t.textContent="Copied",setTimeout(()=>t.textContent="Copy BibTeX",2e3))})})}i();document.addEventListener("astro:page-load",i);</script> <footer class="site-footer" data-pagefind-ignore data-astro-cid-gcn2mc3v> <p data-astro-cid-gcn2mc3v>
designed &amp; built with
<a href="https://astro.build" title="Astro website" data-astro-cid-gcn2mc3v>&#9889;</a>,
<a href="#" class="random-cafe" title="See Ben's favourite coffee shops" data-astro-cid-gcn2mc3v>&#9749;</a>
and
<a href="https://www.youtube.com/watch?v=6H2FRxvsd2M" title="What is love?" data-astro-cid-gcn2mc3v>&#10084;</a>
on unceded
<a href="https://www.nca.gov.au/welcome-ngunnawal-country" data-astro-cid-gcn2mc3v>Ngunnawal Country</a>
by Ben Swift
</p> <p class="footer-links" data-astro-cid-gcn2mc3v> <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/" class="licence" aria-label="Creative Commons Attribution-ShareAlike 4.0 licence" data-astro-cid-gcn2mc3v>cc by-sa</a>
&middot;
<a href="https://github.com/benswift/benswift.github.io/blob/main/blog/2021/04/23/a-short-list-of-extempore-livecoding-tricks" data-astro-cid-gcn2mc3v>source</a>
&middot;
<a href="https://github.com/benswift/benswift.github.io/commits/main/blog/2021/04/23/a-short-list-of-extempore-livecoding-tricks" data-astro-cid-gcn2mc3v>history</a> </p> </footer>  <script type="module">const e=["https://tilleys.com.au","https://www.harvestcoffee.com.au","https://www.facebook.com/goodbrothercbr","https://frontgallerycafe.com","https://redbrick.coffee"];function t(){document.querySelectorAll(".random-cafe").forEach(o=>{o.addEventListener("click",a=>{a.preventDefault(),window.location.href=e[Math.floor(Math.random()*e.length)]})})}t();document.addEventListener("astro:page-load",t);</script>  </main> </body></html>