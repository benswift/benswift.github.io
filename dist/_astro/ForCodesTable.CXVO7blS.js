import{r as le}from"./attributes.BKVCFGue.js";import{c as H,b as se,h as x,s as z,g as ne,a as fe,d as y,r as te,H as ie,e as X,f as O,i as D,C as oe,j as ue,k as G,l as R,E as S,m as Q,n as ve,o as de,p as ce,q as he,t as _e,u as pe,v as J,w as ge,x as $,y as j,I as V,B as Ee,z as me,A as be,D as W,F as Ce,G as Te,J as we,K as ye,L as Se,M as ke,N as xe,O as K,P as Ae,Q as I,R as ee,S as Ne,T as q,U as N,V as Re,W as Fe,X as Ie,Y as Me,Z as P}from"./render.Df3QsGvV.js";/* empty css                                                             */function Le(e,s,n){for(var d=[],u=s.length,f,i=s.length,l=0;l<u;l++){let o=s[l];j(o,()=>{if(f){if(f.pending.delete(o),f.done.add(o),f.pending.size===0){var c=e.outrogroups;U(W(f.done)),c.delete(f),c.size===0&&(e.outrogroups=null)}}else i-=1},!1)}if(i===0){var t=d.length===0&&n!==null;if(t){var r=n,v=r.parentNode;me(v),v.append(r),e.items.clear()}U(s,!t)}else f={pending:new Set(s),done:new Set},(e.outrogroups??=new Set).add(f)}function U(e,s=!0){for(var n=0;n<e.length;n++)be(e[n],s)}var Z;function De(e,s,n,d,u,f=null){var i=e,l=new Map;{var t=e;i=x?z(ne(t)):t.appendChild(H())}x&&fe();var r=null,v=ce(()=>{var h=n();return Ce(h)?h:h==null?[]:W(h)}),o,c=!0;function m(){g.fallback=r,He(g,o,i,s,d),r!==null&&(o.length===0?(r.f&S)===0?$(r):(r.f^=S,L(r,null,i)):j(r,()=>{r=null}))}var a=se(()=>{o=y(v);var h=o.length;let b=!1;if(x){var p=te(i)===ie;p!==(h===0)&&(i=X(),z(i),O(!1),b=!0)}for(var A=new Set,C=R,k=de(),T=0;T<h;T+=1){x&&D.nodeType===oe&&D.data===ue&&(i=D,b=!0,O(!1));var F=o[T],_=d(F,T),E=c?null:l.get(_);E?(E.v&&G(E.v,F),E.i&&G(E.i,T),k&&C.unskip_effect(E.e)):(E=ze(l,c?i:Z??=H(),F,_,T,u,s,n),c||(E.e.f|=S),l.set(_,E)),A.add(_)}if(h===0&&f&&!r&&(c?r=Q(()=>f(i)):(r=Q(()=>f(Z??=H())),r.f|=S)),h>A.size&&ve(),x&&h>0&&z(X()),!c)if(k){for(const[re,ae]of l)A.has(re)||C.skip_effect(ae.e);C.oncommit(m),C.ondiscard(()=>{})}else m();b&&O(!0),y(v)}),g={effect:a,items:l,outrogroups:null,fallback:r};c=!1,x&&(i=D)}function M(e){for(;e!==null&&(e.f&Ee)===0;)e=e.next;return e}function He(e,s,n,d,u){var f=s.length,i=e.items,l=M(e.effect.first),t,r=null,v=[],o=[],c,m,a,g;for(g=0;g<f;g+=1){if(c=s[g],m=u(c,g),a=i.get(m).e,e.outrogroups!==null)for(const _ of e.outrogroups)_.pending.delete(a),_.done.delete(a);if((a.f&S)!==0)if(a.f^=S,a===l)L(a,null,n);else{var h=r?r.next:l;a===e.effect.last&&(e.effect.last=a.prev),a.prev&&(a.prev.next=a.next),a.next&&(a.next.prev=a.prev),w(e,r,a),w(e,a,h),L(a,h,n),r=a,v=[],o=[],l=M(r.next);continue}if((a.f&V)!==0&&$(a),a!==l){if(t!==void 0&&t.has(a)){if(v.length<o.length){var b=o[0],p;r=b.prev;var A=v[0],C=v[v.length-1];for(p=0;p<v.length;p+=1)L(v[p],b,n);for(p=0;p<o.length;p+=1)t.delete(o[p]);w(e,A.prev,C.next),w(e,r,A),w(e,C,b),l=b,r=C,g-=1,v=[],o=[]}else t.delete(a),L(a,l,n),w(e,a.prev,a.next),w(e,a,r===null?e.effect.first:r.next),w(e,r,a),r=a;continue}for(v=[],o=[];l!==null&&l!==a;)(t??=new Set).add(l),o.push(l),l=M(l.next);if(l===null)continue}(a.f&S)===0&&v.push(a),r=a,l=M(a.next)}if(e.outrogroups!==null){for(const _ of e.outrogroups)_.pending.size===0&&(U(W(_.done)),e.outrogroups?.delete(_));e.outrogroups.size===0&&(e.outrogroups=null)}if(l!==null||t!==void 0){var k=[];if(t!==void 0)for(a of t)(a.f&V)===0&&k.push(a);for(;l!==null;)(l.f&V)===0&&l!==e.fallback&&k.push(l),l=M(l.next);var T=k.length;if(T>0){var F=f===0?n:null;Le(e,k,F)}}}function ze(e,s,n,d,u,f,i,l){var t=(i&he)!==0?(i&_e)===0?pe(n,!1,!1):J(n):null,r=(i&ge)!==0?J(u):null;return{v:t,i:r,e:Q(()=>(f(s,t??n,r??u,l),()=>{e.delete(d)}))}}function L(e,s,n){if(e.nodes)for(var d=e.nodes.start,u=e.nodes.end,f=s&&(s.f&S)===0?s.nodes.start:n;d!==null;){var i=Te(d);if(f.before(d),d===u)return;d=i}}function w(e,s,n){s===null?e.effect.first=n:s.next=n,n===null?e.effect.last=s:n.prev=s}function Oe(e,s,n=s){var d=new WeakSet;we(e,"input",async u=>{var f=u?e.defaultValue:e.value;if(f=B(e)?Y(f):f,n(f),R!==null&&d.add(R),await ye(),f!==(f=s())){var i=e.selectionStart,l=e.selectionEnd,t=e.value.length;if(e.value=f??"",l!==null){var r=e.value.length;i===l&&l===t&&r>t?(e.selectionStart=r,e.selectionEnd=r):(e.selectionStart=i,e.selectionEnd=Math.min(l,r))}}}),(x&&e.defaultValue!==e.value||Se(s)==null&&e.value)&&(n(B(e)?Y(e.value):e.value),R!==null&&d.add(R)),ke(()=>{var u=s();if(e===document.activeElement){var f=xe??R;if(d.has(f))return}B(e)&&u===Y(e.value)||e.type==="date"&&!u&&!e.value||u!==e.value&&(e.value=u??"")})}function B(e){var s=e.type;return s==="number"||s==="range"}function Y(e){return e===""?null:+e}var Ve=ee('<tr><td class="for-code svelte-gplc73"> </td><td class="for-description svelte-gplc73"> </td></tr>'),qe=ee('<div class="for-codes-table svelte-gplc73"><input class="search svelte-gplc73" placeholder="type to filter FoR codes..."/> <table class="svelte-gplc73"><thead><tr><th class="svelte-gplc73">FoR Code</th><th class="svelte-gplc73">Description</th></tr></thead><tbody></tbody></table></div>');function Ue(e,s){Ne(s,!0);let n=Ie(""),d=Fe(()=>y(n)?s.codes.filter(t=>{const r=y(n).toLowerCase();return t.field.toLowerCase().includes(r)||t.description.toLowerCase().includes(r)||t.division.toLowerCase().includes(r)||t.group.toLowerCase().includes(r)}):s.codes);var u=qe(),f=I(u);le(f);var i=q(f,2),l=q(I(i));De(l,21,()=>y(d),t=>t.field,(t,r)=>{var v=Ve(),o=I(v),c=I(o,!0);N(o);var m=q(o),a=I(m,!0);N(m),N(v),Me(()=>{P(c,y(r).field),P(a,y(r).description)}),K(t,v)}),N(l),N(i),N(u),Oe(f,()=>y(n),t=>Re(n,t)),K(e,u),Ae()}export{Ue as default};
